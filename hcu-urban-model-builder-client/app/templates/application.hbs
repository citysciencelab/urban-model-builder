{{page-title "Urban Model Builder"}}

<BsNavbar
  @type="dark"
  @backgroundColor="dark"
  @fluid={{false}}
  id="navbar-main" as |navbar|
>
  <div class="navbar-header">
    <navbar.toggle />
    <LinkTo @route="application" class="navbar-brand">
      {{t "general.brand"}}
    </LinkTo>
  </div>
  <navbar.content>
    <navbar.nav as |nav|>
      <nav.item>
        <nav.linkTo @route="models.index">
          {{t "models.model.plural"}}
        </nav.linkTo>
      </nav.item>
    </navbar.nav>
  </navbar.content>
  <ul class="nav navbar-nav">
    <LangSwitch />
    {{#if this.session.isAuthenticated}}
      <li class="nav-item navbar-text">
        <span class="nav-link">
          <FaIcon @icon="user" />
          {{this.session.data.authenticated.userinfo.name}}
        </span>
      </li>
    {{/if}}
    <li class="nav-item">
      {{#if this.session.isAuthenticated}}
        <button
          class="nav-link"
          type="button"
          {{on "click" this.invalidateSession}}
        >
          <FaIcon @icon="power-off" />
          Logout
        </button>
      {{else}}
        <LinkTo
          @route="authenticate"
          class="nav-link"
          role="button"
          aria-pressed="false"
        >
          Login
        </LinkTo>
      {{/if}}
    </li>
  </ul>
</BsNavbar>

<BsNavbar @type="dark" @backgroundColor="secondary" @fluid={{false}}>
  <BreadcrumbsContainer
    @itemClass="breadcrumbs__item"
    @linkClass="breadcrumbs__link"
    class="breadcrumbs"
  />
  <div id="navbar-secondary"></div>
</BsNavbar>

<BreadcrumbsItem as |linkClass|>
  <LinkTo @route="application" class={{linkClass}}>
    {{t "general.home"}}
  </LinkTo>
</BreadcrumbsItem>

<div id="ember-bootstrap-wormhole"></div>

<main>
  {{outlet}}
</main>